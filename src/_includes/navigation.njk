<ul class="stack list-style:none" style="--stack-space: 0.5rem">
  <li>
    <a href="/how-to-play">How To Play</a>
  </li>
  <li>
    <ul class="stack padding-inline-start:1em list-style:none" style="--stack-space: 0.5rem">
      <li>
        <a href="/how-to-play/character-creation-and-leveling-up">Character Creation and Leveling Up</a>
      </li>
      <li>
        <a href="/how-to-play/health-and-stamina">Health and Stamina</a>
      </li>
      <li>
        <a href="/how-to-play/combat">Combat</a>
      </li>
      <li>
        <a href="/how-to-play/advantage-disadvantage-helping-out">Advantage, Disadvantage, and Helping Out</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/dice-roller">Dice Roller</a>
  </li>
  <li>
    <a href="/gm-guide">GM Guide</a>
  </li>
  <li>
    <ul class="stack padding-inline-start:1em list-style:none" style="--stack-space: 0.5rem">
      <li>
        <a href="/gm-guide/basic-gm-principles">Basic GM Principles</a>
      </li>
      <li>
        <a href="/gm-guide/starting-a-game">Starting a Game</a>
      </li>
      <li>
        <a href="/gm-guide/randomizing-scenarios">Randomizing Scenarios</a>
      </li>
      <li>
        <a href="/gm-guide/running-combat">Running Combat</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/armor">Armor</a>
  </li>
  <li>
    <a href="/weapons">Weapons</a>
  </li>
  <li>
    <a href="/feats">General Feats</a>
  </li>
  <li>
    <a href="/races">Races</a>
  </li>
  <li>
    <ul class="stack padding-inline-start:1em list-style:none" style="--stack-space: 0.5rem">
      {% for race in races %}
      <li>
        <a href="/races/{{ race.slug }}">
          {{ race.Name }}
        </a>
      </li>
      {% endfor %}
    </ul>
  </li>
  <li>
    <a href="/classes">Classes</a>
  </li>
  <li>
    <ul class="stack padding-inline-start:1em list-style:none" style="--stack-space: 0.5rem">
      {% for class in classes %}
      <li>
        <a href="/classes/{{ class.slug }}">
          {{ class.Name }}
        </a>
      </li>
      {% endfor %}
    </ul>
  </li>
  <li>
    <a href="/character-sheets">Character Sheets</a>
  </li>
  <li>
    <ul class="stack padding-inline-start:1em list-style:none" style="--stack-space: 0.5rem" data-navigation-list="characters">
      <li>
        <a href="/character-sheets/add-character">Add Character</a>
      </li>
    </ul>
  </li>
</ul>

<script type="module">
  import { getAllFromDb } from '/scripts/db.mjs';

  const initialize = async () => {
    let characters = [];
    try {
      characters = await getAllFromDb('characters');
    } catch (error) {
      console.error(error);
    }

    const navElement = document.querySelector('[data-navigation-list=characters]');

    characters.forEach((character) => {
      const li = document.createElement('li');
      li.innerHTML = `<a href="/character-sheets/character?key=${character.key}">${character.name}</a>`;
      navElement.appendChild(li);
    });
  };

  initialize();
</script>
